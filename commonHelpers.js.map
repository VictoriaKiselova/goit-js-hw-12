{"version":3,"file":"commonHelpers.js","sources":["../src/img/javascript.svg","../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__90c1298d__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport icon from '../img/javascript.svg';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { loading } from '../main.js';\nimport { nextPage } from '../main.js';\nimport { scrollByImg } from '../main.js';\n\nexport const gallery = document.querySelector('.list-gallery');\nlet count = 0;\n\nexport function showImages(data, totalHits) {\n  if (data.hits.length === 0) {\n    gallery.innerHTML = null;\n    loading.classList.remove('loader');\n    nextPage.classList.remove('show-button');\n\n    return iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      iconUrl: icon,\n      color: '#E78E8E',\n      messageColor: 'white',\n      timeout: 3000,\n      imageWidth: 50,\n      position: 'topRight',\n      maxWidth: 420,\n    });\n  }\n  if (data.hits) {\n    loading.classList.remove('loader');\n    nextPage.classList.add('show-button');\n    const markup = data.hits\n      .map(element => {\n        return `<li class=\"gallery\"><a href=\"${element.largeImageURL}\"><img src=\"${element.webformatURL}\" alt=\"${element.tags}\"></a>\n   <div class=\"deskr-container\"> <p>Likes<span>${element.likes}</span></p>\n    <p>Views<span>${element.views}</span></p>\n    <p>Comments<span>${element.comments}</span></p>\n    <p>Downloads<span>${element.downloads}</span></p> </div>\n  </li>`;\n      })\n      .join('');\n    gallery.insertAdjacentHTML('beforeend', markup);\n    count += data.hits.length;\n    scrollByImg();\n  }\n\n  if (count >= totalHits) {\n    nextPage.classList.remove('show-button');\n    return iziToast.show({\n      message: \"We're sorry, but you've reached the end of search results.\",\n      color: 'blue',\n      messageColor: 'black',\n      timeout: 1000,\n      imageWidth: 50,\n      position: 'bottomRight',\n      maxWidth: 420,\n    });\n  }\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captions: true,\n    captionSelector: 'img',\n    captionsData: 'alt',\n  });\n  lightbox.refresh();\n}\n","import axios from 'axios';\nimport { showImages } from './render-functions.js';\nconst API_KEY = '42512841-77167630e6162aef67a2d6614';\n\nexport async function getRequest(q, current_page) {\n  await axios\n    .get('https://pixabay.com/api/', {\n      params: {\n        per_page: 15,\n        page: current_page,\n        key: API_KEY,\n        q: q,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(response => {\n      console.log(response.data);\n      showImages(response.data, response.data.totalHits);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport axios from 'axios';\nimport { getRequest } from './js/pixabay-api.js';\nimport { gallery } from './js/render-functions.js';\n\nexport const loading = document.querySelector('.loading');\nexport const nextPage = document.querySelector('.loading-more-img');\nconst boxLoad = document.querySelector('.btn-load-box');\nconst form = document.querySelector('.form');\n\nlet current_page = 1;\nlet searchValue;\n\nexport function scrollByImg() {\n  const galleryItem = document.querySelector('.gallery');\n  let sizeGallery = galleryItem.getBoundingClientRect();\n  if (sizeGallery.height > 0) {\n    let heightGallery = sizeGallery.height * 2;\n    window.scrollBy({\n      top: heightGallery,\n      behavior: 'smooth',\n    });\n  }\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  gallery.innerHTML = null;\n  loading.classList.add('loader');\n  searchValue = event.target.elements.search.value.trim();\n\n  if (searchValue === '') {\n    return;\n  } else {\n    getRequest(searchValue, current_page);\n  }\n  form.reset();\n});\n\nnextPage.addEventListener('click', event => {\n  loading.classList.add('loader');\n  boxLoad.appendChild(loading);\n  current_page++;\n  console.log(current_page);\n  getRequest(searchValue, current_page);\n});\n"],"names":["icon","gallery","count","showImages","data","totalHits","loading","nextPage","iziToast","markup","element","scrollByImg","SimpleLightbox","API_KEY","getRequest","q","current_page","axios","response","error","boxLoad","form","searchValue","sizeGallery","heightGallery","event"],"mappings":"owBAAA,MAAeA,EAAA,gDCSFC,EAAU,SAAS,cAAc,eAAe,EAC7D,IAAIC,EAAQ,EAEL,SAASC,EAAWC,EAAMC,EAAW,CAC1C,GAAID,EAAK,KAAK,SAAW,EACvB,OAAAH,EAAQ,UAAY,KACpBK,EAAQ,UAAU,OAAO,QAAQ,EACjCC,EAAS,UAAU,OAAO,aAAa,EAEhCC,EAAS,KAAK,CACnB,QACE,2EACF,QAASR,EACT,MAAO,UACP,aAAc,QACd,QAAS,IACT,WAAY,GACZ,SAAU,WACV,SAAU,GAChB,CAAK,EAEH,GAAII,EAAK,KAAM,CACbE,EAAQ,UAAU,OAAO,QAAQ,EACjCC,EAAS,UAAU,IAAI,aAAa,EACpC,MAAME,EAASL,EAAK,KACjB,IAAIM,GACI,gCAAgCA,EAAQ,aAAa,eAAeA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA,iDAC5EA,EAAQ,KAAK;AAAA,oBAC1CA,EAAQ,KAAK;AAAA,uBACVA,EAAQ,QAAQ;AAAA,wBACfA,EAAQ,SAAS;AAAA,QAElC,EACA,KAAK,EAAE,EACVT,EAAQ,mBAAmB,YAAaQ,CAAM,EAC9CP,GAASE,EAAK,KAAK,OACnBO,GACD,CAED,GAAIT,GAASG,EACX,OAAAE,EAAS,UAAU,OAAO,aAAa,EAChCC,EAAS,KAAK,CACnB,QAAS,6DACT,MAAO,OACP,aAAc,QACd,QAAS,IACT,WAAY,GACZ,SAAU,cACV,SAAU,GAChB,CAAK,EAEc,IAAII,EAAe,aAAc,CAChD,aAAc,IACd,SAAU,GACV,gBAAiB,MACjB,aAAc,KAClB,CAAG,EACQ,QAAO,CAClB,CCjEA,MAAMC,EAAU,qCAET,eAAeC,EAAWC,EAAGC,EAAc,CAChD,MAAMC,EACH,IAAI,2BAA4B,CAC/B,OAAQ,CACN,SAAU,GACV,KAAMD,EACN,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAKG,GAAY,CAChB,QAAQ,IAAIA,EAAS,IAAI,EACzBf,EAAWe,EAAS,KAAMA,EAAS,KAAK,SAAS,CACvD,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CCfO,MAAMb,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,SAAS,cAAc,mBAAmB,EAC5Da,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAO,SAAS,cAAc,OAAO,EAE3C,IAAIL,EAAe,EACfM,EAEG,SAASX,GAAc,CAE5B,IAAIY,EADgB,SAAS,cAAc,UAAU,EACvB,wBAC9B,GAAIA,EAAY,OAAS,EAAG,CAC1B,IAAIC,EAAgBD,EAAY,OAAS,EACzC,OAAO,SAAS,CACd,IAAKC,EACL,SAAU,QAChB,CAAK,CACF,CACH,CAEAH,EAAK,iBAAiB,SAAUI,GAAS,CACvCA,EAAM,eAAc,EACpBxB,EAAQ,UAAY,KACpBK,EAAQ,UAAU,IAAI,QAAQ,EAC9BgB,EAAcG,EAAM,OAAO,SAAS,OAAO,MAAM,OAE7CH,IAAgB,KAGlBR,EAAWQ,EAAaN,CAAY,EAEtCK,EAAK,MAAK,EACZ,CAAC,EAEDd,EAAS,iBAAiB,QAASkB,GAAS,CAC1CnB,EAAQ,UAAU,IAAI,QAAQ,EAC9Bc,EAAQ,YAAYd,CAAO,EAC3BU,IACA,QAAQ,IAAIA,CAAY,EACxBF,EAAWQ,EAAaN,CAAY,CACtC,CAAC"}